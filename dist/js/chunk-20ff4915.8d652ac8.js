(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20ff4915"],{"525e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"operate"}},[i("el-container",{staticClass:"switch"},[i("div",{staticClass:"source"},[i("p",[t._v("功能选择")]),i("div",{staticClass:"el-form-item"},[i("label",{staticClass:"el-form-item__label",staticStyle:{width:"80px"}},[t._v("自动模式")]),i("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"80px"}},[i("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.isAuto,callback:function(e){t.isAuto=e},expression:"isAuto"}},[t._v(" > ")])],1)]),i("div",{staticClass:"el-form-item"},[i("label",{staticClass:"el-form-item__label",staticStyle:{width:"80px"}},[t._v("直通模式")]),i("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"80px"}},[i("el-switch",{attrs:{"active-text":"关闭","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.isPass,callback:function(e){t.isPass=e},expression:"isPass"}},[t._v(" > ")])],1)]),i("div",{staticClass:"el-form-item"},[i("label",{staticClass:"el-form-item__label",staticStyle:{width:"92px"}},[t._v("状态延时(s)")]),i("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"96px"}},[i("el-input-number",{attrs:{precision:1,step:.1,min:2,max:6},on:{change:t.handleDelayTimeChange},model:{value:t.delayDataClearTime,callback:function(e){t.delayDataClearTime=e},expression:"delayDataClearTime"}})],1)]),i("div",{staticClass:"el-form-item"},[i("label",{staticClass:"el-form-item__label",staticStyle:{width:"96px"}},[t._v("轮询间隔(ms)")]),i("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"96px"}},[i("el-input-number",{attrs:{precision:0,step:100,min:100,max:3e3},on:{change:t.handlePollTime},model:{value:t.$store.state.pollIntervalTime,callback:function(e){t.$set(t.$store.state,"pollIntervalTime",e)},expression:"$store.state.pollIntervalTime"}})],1)])])]),i("el-container",[i("div",{staticClass:"source"},[i("p",[t._v("远程控制")]),i("div",{staticClass:"el-form-item"},[i("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("异常确认 / 放行")])],1)])]),i("el-container",[i("div",{staticClass:"source"},[i("p",[t._v("数据清除")]),i("div",{staticClass:"el-form-item"},[i("el-button",{attrs:{type:"danger"},on:{click:t.emptyAllData}},[t._v("清空生产记录")]),i("el-button",{attrs:{type:"danger"},on:{click:t.emptyErrData}},[t._v("清空异常历史")])],1)])])],1)},a=[],o=(i("a9e3"),i("1a72")),n={data:function(){return{isAuto:!0,isPass:!1,isAutoTimer:null,isPassTimer:null,delayDataClearTime:4}},watch:{isAuto:function(t){var e=this;this.isAutoTimer||o["a"].setAuto(t?1:0).then((function(t){e.isAutoTimer=setTimeout((function(){1==t?(e.isAuto=!0,e.$notify.success({title:"正确",message:"自动运行中",position:"bottom-right"})):(e.isAuto=!1,e.$notify({title:"警告",message:"当前处于手动状态",type:"error",position:"bottom-right"})),clearTimeout(e.isAutoTimer),e.isAutoTimer=null}),200)}))},isPass:function(t){var e=this;this.isPassTimer||o["a"].setPass(t?1:0).then((function(t){console.log(t),e.isPassTimer=setTimeout((function(){1==t?(e.isPass=!0,e.$notify({title:"禁止",message:"直通模式打开",type:"error",position:"bottom-right"})):(e.isPass=!1,e.$notify({title:"成功",message:"直通模式关闭",position:"bottom-right",type:"success"})),clearTimeout(e.isPassTimer),e.isPassTimer=null}),200)}))}},methods:{confirm:function(){var t=this;o["a"].confirmPass().then((function(e){e?t.$notify({title:"成功",message:"放行成功",type:"success",position:"bottom-right"}):t.$notify.error({title:"错误",message:"上传数据失败！",position:"bottom-right"})}))},handleDelayTimeChange:function(t){var e=this;o["a"].setDelayTime(t).then((function(t){t?e.$notify({title:"成功",message:"服务器扫码状态延时时间("+e.delayDataClearTime+"s)!",type:"success",position:"bottom-right"}):e.$notify({title:"错误",message:"设置服务器扫码状态延时时间失败！",type:"error",position:"bottom-right"})}))},handlePollTime:function(){},emptyAllData:function(){var t=this;o["a"].emptyAllData().then((function(e){1===e.isSucess&&(t.$notify({title:"成功",message:"生产记录已清空",type:"success",position:"bottom-right"}),t.$store.commit("emptyAllData"))}))},emptyErrData:function(){var t=this;o["a"].emptyErrData().then((function(e){1===e.isSucess&&t.$notify({title:"成功",message:"异常记录已清空",type:"success",position:"bottom-right"})}))}},created:function(){var t=this;o["a"].getDelayTime().then((function(e){t.delayDataClearTime=Number(e.time)}))}},r=n,l=(i("caa2"),i("2877")),c=Object(l["a"])(r,s,a,!1,null,"00b1bb51",null);e["default"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),a=i("5899"),o="["+a+"]",n=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),l=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(n,"")),2&t&&(i=i.replace(r,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},"62ff":function(t,e,i){},7156:function(t,e,i){var s=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var o,n;return a&&"function"==typeof(o=e.constructor)&&o!==i&&s(n=o.prototype)&&n!==i.prototype&&a(t,n),t}},a9e3:function(t,e,i){"use strict";var s=i("83ab"),a=i("da84"),o=i("94ca"),n=i("6eeb"),r=i("5135"),l=i("c6b6"),c=i("7156"),m=i("c04e"),u=i("d039"),f=i("7c73"),p=i("241c").f,v=i("06cf").f,h=i("9bf2").f,y=i("58a8").trim,d="Number",b=a[d],g=b.prototype,_=l(f(g))==d,T=function(t){var e,i,s,a,o,n,r,l,c=m(t,!1);if("string"==typeof c&&c.length>2)if(c=y(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+c}for(o=c.slice(2),n=o.length,r=0;r<n;r++)if(l=o.charCodeAt(r),l<48||l>a)return NaN;return parseInt(o,s)}return+c};if(o(d,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,A=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof A&&(_?u((function(){g.valueOf.call(i)})):l(i)!=d)?c(new b(T(e)),i,A):T(e)},x=s?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)r(b,C=x[I])&&!r(A,C)&&h(A,C,v(b,C));A.prototype=g,g.constructor=A,n(a,d,A)}},caa2:function(t,e,i){"use strict";var s=i("62ff"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-20ff4915.8d652ac8.js.map